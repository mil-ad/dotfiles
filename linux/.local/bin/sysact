#!/usr/bin/env bash

# A rofi wrapper script for various functionality that I don't want to put
# behind an explicit keybinding.

# modified version of https://github.com/LukeSmithxyz/voidrice/blob/8cbd259bc1b31cb17e5d6bf9fba59dfb45ada224/.local/bin/sysact

set -x

assert_installed uvx xkill i3-msg

menu_items=(
    "ğŸ¤– Mods History"
    "ğŸ Python"
    "ğŸ”’ lock"
    "ğŸ’¤ sleep"
    "ğŸ”« xkill"
    "â™»ï¸ restart i3"
    "ğŸ“¹ record area"
    "ğŸ“¸ screenshot program"
    "ğŸ–– (un)split monitor"
    "ğŸ”„ switch monitor input"
    "ğŸšª logout"
    "ğŸš€ reboot"
    "ğŸ» hibernate"
    "ğŸ–¥ shutdown"
)

selected_option=$(printf "%s\n" "${menu_items[@]}" | rofimenu)

case "$selected_option" in
    "ğŸ¤– Mods History") ~/.local/bin/kitty-app mods_show;;
    "ğŸ Python") ~/.local/bin/kitty-app uvx ptpython;;
    'ğŸ“¹ record area') ~/.local/bin/record-screen-area-start ;;
    "ğŸ“¸ screenshot program") ~/.local/bin/screenshot-window-to-clipboard ;;
    'ğŸ”’ lock')  ~/.local/bin/betterblurlock ;;
    'ğŸ’¤ sleep') systemctl suspend ;;
    'ğŸ» hibernate')  systemctl hibernate ;;
    'ğŸšª logout') i3-msg exit ;;
    'ğŸ”« xkill') xkill ;;
    'ğŸ–– (un)split monitor') ~/.local/bin/toggle_virtual_monitors ;;
    "ğŸ”„ switch monitor input") ~/.local/bin/switch-monitor-input ;;
    'â™»ï¸ restart i3') i3-msg restart ;;
    'ğŸš€ reboot')  systemctl reboot ;;
    'ğŸ–¥ shutdown') systemctl poweroff ;;
    *) exit 1 ;;
esac
