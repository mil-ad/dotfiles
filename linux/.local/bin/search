#!/usr/bin/env bash

engine=$(printf 'YouTube
Google Scholar
Letterboxd
Amazon
eBay
goodreads
Wirecutter
CamelCamelCamel
GitHub Repositories' | dmenu)

[[ $engine ]] && query=$(echo '' | dmenu -l 0 -p "üîç $engine")

case $engine in
    "YouTube") URL="https://www.youtube.com/results?search_query=${query}" ;;
    "Google Scholar") URL="https://scholar.google.com/scholar?q=${query}" ;;
    "Letterboxd") URL="https://letterboxd.com/search/${query}" ;;
    "Amazon") URL="https://www.amazon.co.uk/s?k=${query}" ;;
    "eBay") URL="https://www.ebay.co.uk/sch/i.html?_nkw=${query}" ;;
    "goodreads") URL="https://www.goodreads.com/search?q=${query}" ;;
    "Wirecutter") URL="https://www.nytimes.com/wirecutter/search/?s=${query}" ;;
    "CamelCamelCamel") URL="https://uk.camelcamelcamel.com/search?sq=${query}" ;;
	"GitHub Repositories") URL="https://github.com/search?q=${query}&type=repositories" ;;
esac

[[ $query ]] && xdg-open "${URL}" && i3-msg --quiet [urgent=latest] focus
