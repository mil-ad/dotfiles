#!/usr/bin/env bash

assert_installed wf-recorder

ps -af | pgrep --full wf-recorder && { notify-send "Found an ongoing capture. Aborting ..."; exit 1; }

# polybar-msg action screen-capture module_show

filename="screen-area-capture-$(date '+%Y-%m-%d-%H:%M:%S').mp4"

wf-recorder -g "$(slurp)" --file ~/Downloads/"$filename"

notify-send "Saved to: $filename"
