#!/usr/bin/env bash

set -x

assert_installed uvx swaymsg

menu_items=(
    "ğŸ¤– Mods History"
    "âš™ï¸ Edit dotfiles"
    "âš™ï¸ Edit scripts"
    "ğŸ Python"
    # "ğŸ”« xkill"
    "ğŸ¨ color picker"
    "ğŸ“¹ record area"
    "ğŸ“¸ screenshot program"
    "ğŸ–– (un)split monitor"
    "ğŸ”„ switch monitor input"
    "â™»ï¸ restart sway"
    "ğŸšª logout"
    "ğŸš€ reboot"
    "ğŸ”’ lock"
    "ğŸ’¤ sleep"
    "ğŸ» hibernate"
    "ğŸ–¥ power off"
)
selected_option=$(printf "%s\n" "${menu_items[@]}" | rofimenu)

case "$selected_option" in
    "ğŸ¤– Mods History") ~/.local/bin/kitty-app mods_show;;
    "âš™ï¸ Edit dotfiles") KITTY_EXTRA_OPTS="--class=hx" kitty-app hx ~/.dotfiles ;;
    "âš™ï¸ Edit scripts") KITTY_EXTRA_OPTS="--class=hx" kitty-app hx ~/.scripts ;;
    "ğŸ Python") ~/.local/bin/kitty-app 'uvx --with pandas --with numpy --with matplotlib ptpython 1>&2 2>/dev/null';;
    "ğŸ¨ color picker") hyprpicker --autocopy ;;
    'ğŸ“¹ record area') ~/.local/bin/record-screen-area-start ;;
    "ğŸ“¸ screenshot program") ~/.local/bin/screenshot-window-to-clipboard ;;
    'ğŸ”’ lock') ~/.local/bin/betterblurlock ;;
    'ğŸ’¤ sleep') systemctl suspend ;;
    'ğŸ» hibernate')  systemctl hibernate ;;
    'ğŸšª logout') rofi-confirm && swaymsg exit ;;
    # 'ğŸ”« xkill') xkill ;;
    'ğŸ–– (un)split monitor') ~/.local/bin/toggle_virtual_monitors ;;
    "ğŸ”„ switch monitor input") ~/.local/bin/switch-monitor-input ;;
    'â™»ï¸ restart sway') swaymsg reload ;;
    'ğŸš€ reboot')  rofi-confirm && systemctl reboot ;;
    'ğŸ–¥ power off') rofi-confirm && systemctl poweroff ;;
    *) exit 1 ;;
esac
