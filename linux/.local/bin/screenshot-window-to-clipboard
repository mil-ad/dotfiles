#!/usr/bin/env bash

assert_installed jq slurp grim

GEOM=$(swaymsg -t get_tree | jq -r '.. | select(.pid? and .visible?) | .rect | "\(.x),\(.y) \(.width)x\(.height)"' | slurp -r)

[ -z "$GEOM" ] && exit 1

grim -g "$GEOM" - | wl-copy
